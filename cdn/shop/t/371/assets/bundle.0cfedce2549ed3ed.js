"use strict";(globalThis.webpackChunkshopify_theme=globalThis.webpackChunkshopify_theme||[]).push([["5649"],{26854:function(e,t,o){o.d(t,{O:()=>n});var r=o(12677);let n=({isLoggedIn:e,isPerks:t,coupon:o,couponId:n,couponCount:i})=>{(0,r.y)({event:"page_view",customer:{is_logged_in:!!e,is_perks_member:!!t,coupon:o,coupon_id:n,coupon_count:i}})}},33910:function(e,t,o){var r=o(51306),n=o(69838),i=o(83107),s=o(18262);window.gtm.algoliaIsInit=!1;let a=e=>(e.forEach(e=>{let t=!1;if(e){for(let o in e)"dimension3"===o&&(t=!0);t||(e.dimension3="(not set)")}for(let t in e)(e.hasOwnProperty(t)&&void 0===e[t]||""===e[t]||null===e[t])&&(e[t]="(not set)")}),e);window.gtm.track=(e,t,o=!1,s=!1)=>{let c={};if(t&&t.products&&(t.products=a(t.products)),window.gtm.products&&(window.gtm.products=a(window.gtm.products)),window.gtm.cartProducts&&(window.gtm.cartProducts=a(window.gtm.cartProducts)),e){let o=document.querySelector("#CustomerLoginForm form");o&&!1===window.theme.isCustomerLoggedIn&&o.addEventListener("submit",function(){let e={event:"checkoutOption",ecommerce:{checkout_option:{actionField:{step:"2",option:"Login"}}}};(0,r.PN)(e,"GTM dataLayer updated"),dataLayer.push(e)});let d=document.querySelector("#registerForm form");switch(d&&!1===window.theme.isCustomerLoggedIn&&d.addEventListener("submit",function(){let e={event:"checkoutOption",ecommerce:{checkout_option:{actionField:{step:"2",option:"Create Account"}}}};(0,r.PN)(e,"GTM dataLayer updated"),dataLayer.push(e)}),e){case"productView":c={event:"productView",ecommerce:{currencyCode:(0,i.o)(),detail:{actionField:{list:"productdetails"},products:a([window.gtm.product])}}},window.gtm.products&&window.gtm.products.length&&window.gtm.track("productImpression");break;case"productClick":{let o;if(t.products&&t.products.length)o=t.products;else if(window.gtm.product&&window.gtm.product.id==t.productSku)o=[window.gtm.product];else for(let e=0;window.gtm.products.length>e;e++){let r=window.gtm.products[e];if(r.id==t.productSku){r.position=e+1,o=[r];break}}if(o.length){let r="other";t.productsList?r=t.productsList:window.gtm.productsList?r=window.gtm.productsList:window.gtm.wishlist&&(r=window.gtm.wishlist),r=s?"search":r,c={event:e,ecommerce:{currencyCode:(0,i.o)(),click:{actionField:{list:r},products:o}}}}break}case"addToCart":{let o;if(t.products&&t.products.length)o=t.products;else if(window.gtm.product&&window.gtm.product.id==t.productSku)o=[window.gtm.product];else for(let e=0;window.gtm.products.length>e;e++){let r=window.gtm.products[e];if(r.id==t.productSku){r.position=e+1,o=[r];break}}if(o.length){let r="other";t.productsList?r=t.productsList:window.gtm.productsList?r=window.gtm.productsList:window.gtm.wishlist&&(r=window.gtm.wishlist),r=s?"search":r,c={event:e,ecommerce:{currencyCode:(0,i.o)(),add:{actionField:{list:r},products:o}}}}break}case"cartPage":(0,n.d)("Cart"),c={event:"checkoutStep",ecommerce:{currencyCode:(0,i.o)(),checkout:{actionField:{step:"1"},products:window.gtm.cartProducts}}};break;case"newAccount":void 0!=document.referrer&&-1!==document.referrer.indexOf("/register")&&(c={event:"registrationSuccess"});break;case"productImpression":{let e=t&&t.products?t.products:window.gtm.products,o=t&&t.algolia?t.algolia:{};e=e&&e.map((e,t)=>(e.position||(o.resultsperpage>0&&o.page>0?e.position=t+1+(o.page-1)*o.resultsperpage:e.position=t+1),e.list||(e.list=window.gtm.productsList?window.gtm.productsList:"other"),e)),c={event:"productImpression",algolia:o,ecommerce:{currencyCode:(0,i.o)(),impressions:e}};break}case"algoliaSearchResults":{let e=t&&t.products?t.products:window.gtm.products;e=e&&e.map((e,t)=>(e.list="search",e)),c={event:"algoliaSearchResults",algolia:t.algolia,ecommerce:{currencyCode:(0,i.o)(),impressions:e}};break}case"customEvent":c={event:"sendEvent",eventCategory:t.category?t.category:"",eventAction:t.action?t.action:"",eventLabel:t.label?t.label:""}}}window.gtm.pageType&&o&&(c.pageType=window.gtm.pageType);let d=()=>window.gtm.customTrack(c);"function"==typeof window.requestIdleCallback?window.requestIdleCallback(d,{timeout:4e3}):d()};let c=document.getElementById("loginForm"),d=document.getElementById("CustomerLoginForm"),l=document.getElementById("customer_login"),u=document.querySelector("#CustomerLoginForm .errors"),g=document.querySelector("#RecoverPasswordForm .errors"),m=window.localStorage.getItem("user-has-logged-in"),w=document.getElementById("RecoverPassword"),p=document.getElementById("RecoverPasswordForm"),v=document.getElementById("HideRecoverPasswordLink"),h=document.getElementById("ResetSuccess"),y=window.localStorage.getItem("reset-password-page"),f=document.querySelector('[data-toggle="registerForm"]'),L=document.querySelector('[data-toggle="loginForm"]'),S=document.getElementById("registerForm"),P=document.getElementById("create_customer"),k=document.querySelector("#registerForm .errors");if(c&&!1===c.classList.contains("isHidden")&&d&&!1===d.classList.contains("hide")&&!u&&""===location.hash){let e={event:"sendPageview",pagePath:"/account/login#login",pageTitle:"Log in"};(0,r.PN)(e,"login page view send to GTM"),dataLayer.push(e),m&&window.localStorage.removeItem("user-has-logged-in"),l.addEventListener("submit",function(){window.localStorage.setItem("user-has-logged-in","true")})}if(L&&L.addEventListener("click",function(){let e={event:"sendPageview",pagePath:"/account/login#login",pageTitle:"Log in"};(0,r.PN)(e,"login page view send to GTM"),dataLayer.push(e),m&&window.localStorage.removeItem("user-has-logged-in")}),v&&v.addEventListener("click",function(){let e={event:"sendPageview",pagePath:"/account/login#login",pageTitle:"Log in"};(0,r.PN)(e,"login page view send to GTM"),dataLayer.push(e),m&&window.localStorage.removeItem("user-has-logged-in")}),c&&h&&!1===h.classList.contains("hide")){let e={event:"forgotPasswordSuccess"};(0,r.PN)(e,"forgot password success send to GTM"),dataLayer.push(e),m&&window.localStorage.removeItem("user-has-logged-in")}if(u||g||k){let e="";u&&(e=u.querySelector("ul li")),g&&(e=g.querySelector("ul li")),k&&(e=k.querySelector("ul li"));let t="Login";if(p&&g&&(t="Forgot Password"),S&&k&&(t="Registration"),e){let o={event:"errorEvent",errorType:t,errorMsg:e.innerHTML};(0,r.PN)(o,"login page error sent to GTM"),dataLayer.push(o),m&&window.localStorage.removeItem("user-has-logged-in")}}if(c&&w&&w.addEventListener("click",function(){let e={event:"sendPageview",pagePath:"/account/login#recover",pageTitle:"Forgot Password"};(0,r.PN)(e,"send forgot password page view to GTM"),dataLayer.push(e)}),p&&"#recover"===location.hash&&!g){let e={event:"sendPageview",pagePath:"/account/login#recover",pageTitle:"Forgot Password"};(0,r.PN)(e,"send forgot password page view to GTM"),dataLayer.push(e)}if(!c&&m){let e={event:"loginSuccess"};(0,r.PN)(e,"Log in success sent to GTM"),dataLayer.push(e),window.localStorage.removeItem("user-has-logged-in")}if(y){let e={event:"resetPasswordSuccess"};(0,r.PN)(e,"Reset password success sent to GTM"),dataLayer.push(e),window.localStorage.removeItem("reset-password-page")}if(f&&f.addEventListener("click",function(){let e={event:"sendPageview",pagePath:"/account/login#registration",pageTitle:"Registration"};(0,r.PN)(e,"registration page view send to GTM"),dataLayer.push(e),m&&window.localStorage.removeItem("user-has-logged-in")}),S&&!1===S.classList.contains("isHidden")&&!k){let e={event:"sendPageview",pagePath:"/account/login#registration",pageTitle:"Registration"};(0,r.PN)(e,"registration page view send to GTM"),dataLayer.push(e),m&&window.localStorage.removeItem("user-has-logged-in")}if(P&&P.addEventListener("submit",function(e){window.localStorage.setItem("register-form","true")}),!S&&!P&&window.localStorage.getItem("register-form")&&(dataLayer.push({event:"registrationSuccess"}),window.localStorage.removeItem("register-form")),document.getElementById("ResetPasswordForm")){let e=window.localStorage.getItem("reset-password-page"),t=document.querySelector(".errors"),o=document.querySelector("#ResetPasswordForm form");if(o&&o.addEventListener("submit",function(){window.localStorage.setItem("reset-password-page","true")}),!t){let t={event:"sendPageview",pagePath:"/account/reset",pageTitle:"Forgot Password"};(0,r.PN)(t,"reset password page view send to GTM"),dataLayer.push(t),e&&window.localStorage.removeItem("reset-password-page")}if(t){let o=t.querySelector("ul li");if(o){let t={event:"errorEvent",errorType:"Reset Password",errorMsg:o.innerHTML};(0,r.PN)(t,"login page error sent to GTM"),dataLayer.push(t),e&&window.localStorage.removeItem("reset-password-page")}}}"/cart"===window.location.pathname&&((e,t,o,r)=>{let n=(o?document.querySelector(o):document)||document,i=n.querySelector(e);i?t(i):new MutationObserver((o,n)=>{for(let i of o)for(let o of Array.from(i.addedNodes))if(o instanceof HTMLElement&&(o.matches(e)||o.querySelector(e))){t(o),r||n.disconnect();return}}).observe(n,{childList:!0,subtree:!0})})(".cart [data-cart-total] .checkout-btns div.checkout-btn [data-cart-continue-btn]",e=>{e.addEventListener("click",()=>{(0,s.J)({triggerSource:"my_cart"})})},"#MainContent",!0),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelector(".login-option-box a.btn");e&&e.addEventListener("click",function(){dataLayer.push({event:"sendEvent",eventCategory:"Enhanced Ecommerce",eventAction:"Login"})})}),window.gtm.customTrack=e=>{e&&((0,r.PN)(e,"GTM analytics push"),dataLayer.push(e))},!window.gtm.initialized&&(window.gtm.pageloadAction?window.gtm.track(window.gtm.pageloadAction):window.gtm.customData&&window.gtm.track(window.gtm.customData));let b=document.querySelector(".klaviyo-bis-trigger");b&&b.addEventListener("click",e=>{let t={event:"productStartNotifyMe",ecommerce:{products:a([window.gtm.product])}};(0,r.PN)(t,"GTM dataLayer pushed"),dataLayer.push(t),setTimeout(()=>{let e=document.querySelector("#klaviyo-bis-iframe");(e=e.contentDocument||e.contentWindow.document).querySelectorAll(".form-horizontal")[0].addEventListener("submit",t=>{let o=new MutationObserver((t,o)=>{if(t&&"completed_message"===t[0].target.id){let t={event:"productSuccessNotifyMe",action:e.querySelectorAll("#subscribe_for_newsletter")[0].checked,ecommerce:{products:a([window.gtm.product])}};(0,r.PN)(t,"GTM dataLayer pushed"),dataLayer.push(t),o.disconnect()}else if(t&&"error_message"===t[0].target.id){let e={event:"productFailureNotifyMe",ecommerce:{products:a([window.gtm.product])}};(0,r.PN)(e,"GTM dataLayer pushed"),dataLayer.push(e),o.disconnect()}}),n=e.querySelectorAll("#completed_message")[0];o.observe(n,{attributes:!0,attributeFilter:["style"]});let i=e.querySelectorAll("#error_message")[0];o.observe(i,{attributes:!0,attributeFilter:["style"]})})},500)})},1856:function(e,t,o){o.d(t,{FG:()=>r,gU:()=>n});let r="Gift Card",n="999999999"}}]);
//# sourceMappingURL=bundle.0cfedce2549ed3ed.js.map